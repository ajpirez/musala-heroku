(this.webpackJsonpuntitled8=this.webpackJsonpuntitled8||[]).push([[0],{33:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(34),s=a.n(r),o=a(2),l=a.n(o),i=a(5),j=a(6),u=a(9),d=a(3),b=a(4),m=a.n(b),h=a(0),p=function(){var e=Object(u.f)(),t=Object(c.useState)([]),a=Object(j.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("".concat("http://localhost:5000/","v1/api/user")).then((function(e){r(e.data.reverse())})).catch((function(t){e.push("/users")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,m.a.delete("".concat("http://localhost:5000/","v1/api/user/").concat(t));case 3:return e.next=5,s();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"py-4",children:Object(h.jsxs)("table",{className:"table border shadow",children:[Object(h.jsx)("thead",{className:"thead-light",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Name"}),Object(h.jsx)("th",{scope:"col",children:"Username"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:n.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scoped:"row",children:t+1}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.username}),"admin"!==e.username&&Object(h.jsxs)("td",{children:[Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Show user",children:Object(h.jsx)(d.b,{class:"btn btn-primary mr-2",to:"/user/show/".concat(e._id),children:Object(h.jsx)("i",{className:"fa fa-book"})})}),Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Edit user",children:Object(h.jsx)(d.b,{class:"btn btn-outline-primary mr-2",to:"/user/edit/".concat(e._id),children:Object(h.jsx)("i",{className:"fa fa-book"})})}),Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Delete user",children:Object(h.jsx)(d.c,{to:"#",class:"btn btn-danger",onClick:function(){return o(e._id)},children:Object(h.jsx)("i",{className:"fa fa-book"})})})]})]})}))})]})})})},O=a(7),x=a(8),f=(a(33),function(){Object(u.f)();var e=Object(c.useState)(Object(h.jsx)("div",{})),t=Object(j.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({username:"",password:""}),s=Object(j.a)(r,2),o=s[0],d=s[1],b=function(e){d(Object(x.a)(Object(x.a)({},o),{},Object(O.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=btoa(o.username+":"+o.password),e.next=4,m.a.post("".concat("http://localhost:5000/","v1/api/auth/signin"),o,{headers:{"content-type":"application/json",Authorization:"Basic "+a}}).then((function(e){localStorage.setItem("token",e.data.token),window.location.href="".concat("http://localhost:5000/")})).catch((function(e){setTimeout((function(){n(Object(h.jsx)("div",{className:"alert alert-danger miAlert",role:"alert",children:"Sign In Error"}))}),1e3),setTimeout((function(){n(Object(h.jsx)("div",{}))}),5e3)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=o.username,v=o.password;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Sign In"}),Object(h.jsxs)("form",{onSubmit:function(e){return p(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",name:"username",required:!0,value:f,onChange:function(e){return b(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",name:"password",required:!0,value:v,onChange:function(e){return b(e)}})}),Object(h.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})]})]}),a]})}),v=function(){var e=Object(u.f)(),t=Object(c.useState)({name:"",username:"",password:""}),a=Object(j.a)(t,2),n=a[0],r=a[1],s=function(e){r(Object(x.a)(Object(x.a)({},n),{},Object(O.a)({},e.target.name,e.target.value)))},o=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,m.a.post("".concat("http://localhost:5000/","v1/api/auth/signup"),n).then((function(t){e.push("/gateway")})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=n.name,b=n.username,p=n.password;return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),Object(h.jsxs)("form",{onSubmit:function(e){return o(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Name",name:"name",required:!0,value:d,onChange:function(e){return s(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",name:"username",required:!0,value:b,onChange:function(e){return s(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",name:"password",required:!0,value:p,onChange:function(e){return s(e)}})}),Object(h.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})]})]})})},g=function(){var e=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),window.location.href="".concat("http://localhost:5000/");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("a",{className:"navbar-brand",href:"#",children:"Musala"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"row w-100 collapse navbar-collapse",children:[Object(h.jsxs)("ul",{className:"col navbar-nav me-auto mb-2 mb-lg-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.c,{className:"nav-link","aria-current":"page",exact:!0,to:"/users",children:"Users"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.c,{className:"nav-link","aria-current":"page",exact:!0,to:"/gateway",children:"Gateway"})})]}),!localStorage.getItem("token")&&Object(h.jsxs)("ul",{className:"col-2 navbar-nav me-auto mb-2 mb-lg-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.b,{className:"nav-link",exact:!0,to:"/signUp",children:"SignUp"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.b,{className:"nav-link",exact:!0,to:"/signIn",children:"SignIn"})})]}),localStorage.getItem("token")&&Object(h.jsx)("ul",{className:"col-2 navbar-nav me-auto mb-2 mb-lg-0",children:Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.b,{to:"#",onClick:function(){return e()},className:"nav-link",exact:!0,children:"Logout"})})})]})]})})})},N=function(){var e=Object(u.g)().id,t=Object(c.useState)({rol:[],_id:"",name:"",username:""}),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(j.a)(s,2),b=o[0],p=o[1];Object(c.useEffect)((function(){O()}),[]);var O=function(){var t=Object(i.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("".concat("http://localhost:5000/","v1/api/user/").concat(e));case 2:a=t.sent,r(a.data),p(a.data.rols);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(d.b,{className:"btn btn-primary mt-2 ml-2",to:"/users",children:"Back"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("ul",{className:"list-group w-50",children:[Object(h.jsxs)("li",{className:"list-group-item",children:["Name: ",n.name]}),Object(h.jsxs)("li",{className:"list-group-item",children:["Username: ",n.username]})]}),Object(h.jsx)("table",{className:"table border shadow",children:Object(h.jsxs)("tbody",{children:[Object(h.jsx)("h1",{className:"display-7 mt-3",children:"Rols "}),b.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scoped:"row",children:t+1}),Object(h.jsx)("td",{children:e.type}),Object(h.jsxs)("td",{children:[Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Add Rol To User",children:Object(h.jsx)(d.b,{class:"btn btn-primary mr-2",to:"/rol/addRolToUser/".concat(n.username,"/").concat(e._id),children:Object(h.jsx)("i",{className:"fa fa-book"})})}),Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Delete Rol to User",children:Object(h.jsx)(d.b,{class:"btn btn-danger",to:"/rol/addRolToUser/".concat(n.username,"/").concat(e._id,"/").concat(n._id),children:Object(h.jsx)("i",{className:"fa fa-book"})})})]})]},t)}))]})})]})},w=function(){var e=Object(u.f)(),t=Object(c.useState)(Object(h.jsx)("div",{})),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(u.g)().id,o=Object(c.useState)({name:"",username:"",password:""}),b=Object(j.a)(o,2),p=b[0],f=b[1];Object(c.useEffect)((function(){v()}),[]);var v=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("http://localhost:5000/","v1/api/user/").concat(s));case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){f(Object(x.a)(Object(x.a)({},p),{},Object(O.a)({},e.target.name,e.target.value)))},N=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,m.a.patch("".concat("http://localhost:5000/","v1/api/user/").concat(s),{name:p.name,username:p.username,password:p.password}).then((function(){e.push("/users")})).catch((function(){setTimeout((function(){r(Object(h.jsx)("div",{className:"alert alert-danger miAlert",role:"alert",children:"Error validation"}))}),1e3),setTimeout((function(){r(Object(h.jsx)("div",{}))}),5e3)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=p.name,y=p.username,k=p.password;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(d.b,{className:"btn btn-primary mt-2 ml-2",to:"/users",children:"Back"}),Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Edit User"}),Object(h.jsxs)("form",{onSubmit:function(e){return N(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Name",name:"name",value:w,onChange:function(e){return g(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",name:"username",value:y,onChange:function(e){return g(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Password",name:"password",value:k,onChange:function(e){return g(e)}})}),Object(h.jsx)("button",{className:"btn btn-warning btn-block",children:"Update User"})]})]}),n]})},y=function(){var e=Object(u.f)(),t=Object(c.useState)(Object(h.jsx)("div",{})),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(u.g)(),o=s.username,b=(s.rolId,s.userId,Object(c.useState)({type:""})),p=Object(j.a)(b,2),f=p[0],v=p[1],g=function(e){v(Object(x.a)(Object(x.a)({},f),{},Object(O.a)({},e.target.name,e.target.value)))},N=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,m.a.patch("".concat("http://localhost:5000/","v1/api/rol/addRolToUser"),{username:o,rolName:f.type}).then((function(t){e.push("/users")})).catch((function(e){setTimeout((function(){r(Object(h.jsx)("div",{className:"alert alert-danger miAlert",role:"alert",children:"Error validation"}))}),1e3),setTimeout((function(){r(Object(h.jsx)("div",{}))}),5e3)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=f.type;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(d.b,{className:"btn btn-primary mt-2 ml-2",to:"/users",children:"Back"}),Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Add a Rol to user"}),Object(h.jsxs)("form",{onSubmit:function(e){return N(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",name:"username",required:!0,disabled:!0,value:o,onChange:function(e){return g(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)("select",{"aria-required":"true",name:"type",className:"form-control form-control-lg","aria-label":"Default select example",value:w,onChange:function(e){return g(e)},children:[Object(h.jsx)("option",{value:"",children:"Select a rol"}),Object(h.jsx)("option",{value:"Admin",children:"Admin"}),Object(h.jsx)("option",{value:"Client",children:"Client"})]})}),Object(h.jsx)("button",{className:"btn btn-primary btn-block",children:"Add Rol"})]})]}),n]})},k=function(){var e,t=Object(u.f)(),a=Object(u.g)(),n=a.username,r=a.rolId,s=Object(c.useState)({type:""}),o=Object(j.a)(s,2),b=o[0],p=o[1],f=function(e){p(Object(x.a)(Object(x.a)({},b),{},Object(O.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(i.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,m.a.patch("".concat("http://localhost:5000/","v1/api/rol/deleteRolToUser"),{username:n,rolName:b.type}).then((function(e){t.push("/estudiantes")})).catch((function(e){t.push("/estudiantes")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=b.type;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(d.b,{className:"btn btn-primary mt-2 ml-2",to:"/user/show/".concat(r),children:"Back"}),Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Delete a Rol to user"}),Object(h.jsxs)("form",{onSubmit:function(e){return v(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",name:"username",required:!0,disabled:!0,value:n,onChange:function(e){return f(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)("select",(e={required:!0,"aria-required":"true"},Object(O.a)(e,"required",!0),Object(O.a)(e,"name","type"),Object(O.a)(e,"className","form-control form-control-lg"),Object(O.a)(e,"aria-label","Default select example"),Object(O.a)(e,"value",g),Object(O.a)(e,"onChange",(function(e){return f(e)})),Object(O.a)(e,"children",[Object(h.jsx)("option",{value:"",children:"Select a rol"}),Object(h.jsx)("option",{value:"Admin",children:"Admin"}),Object(h.jsx)("option",{value:"Client",children:"Client"})]),e))}),Object(h.jsx)("button",{className:"btn btn-primary btn-block",children:"Delete rolr"})]})]})]})},S=function(){Object(u.f)();var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){r()}),[]);var r=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("http://localhost:5000/","v1/api/gateway"));case 2:t=e.sent,n(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat("http://localhost:5000/","v1/api/gateway/").concat(t));case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"py-4",children:[Object(h.jsx)("h1",{children:"Gateway"}),Object(h.jsx)(d.b,{className:"btn btn-outline-light mb-2 bg-primary ",to:"/gateway/add",children:"Add Gateway"}),Object(h.jsxs)("table",{className:"table border shadow",children:[Object(h.jsx)("thead",{className:"thead-light",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"SerialNumber"}),Object(h.jsx)("th",{scope:"col",children:"Name"}),Object(h.jsx)("th",{scope:"col",children:"Address"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:a.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scoped:"row",children:t+1}),Object(h.jsx)("td",{children:Object(h.jsx)(d.b,{className:"nav-link","aria-current":"page",exact:!0,to:"/gateway/device/".concat(e._id),children:e.serialNumber})}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.address}),Object(h.jsxs)("td",{children:[Object(h.jsx)("span",{class:"d-inline-block",tabindex:"0","data-bs-toggle":"tooltip",title:"Show",children:Object(h.jsx)(d.b,{class:"btn btn-primary mr-2",to:"/gateway/show/".concat(e._id),children:Object(h.jsx)("i",{className:"fa fa-book"})})}),Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Edit",children:Object(h.jsxs)(d.b,{class:"btn btn-outline-primary mr-2",to:"/gateway/edit/".concat(e._id),children:[Object(h.jsx)("i",{className:"fa fa-edit"})," "]})}),Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Delete",children:Object(h.jsx)(d.b,{to:"#",class:"btn btn-danger",onClick:function(){return s(e._id)},children:Object(h.jsx)("i",{className:"fa fa-book"})})})]})]})}))})]})]})})},C=function(){var e=Object(u.f)(),t=Object(c.useState)(Object(h.jsx)("div",{})),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)({serialNumber:"",name:"",address:""}),o=Object(j.a)(s,2),d=o[0],b=o[1],p=function(e){b(Object(x.a)(Object(x.a)({},d),{},Object(O.a)({},e.target.name,e.target.value)))},f=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,m.a.post("".concat("http://localhost:5000/","v1/api/gateway"),d).then((function(){e.push("/gateway")})).catch((function(){setTimeout((function(){r(Object(h.jsx)("div",{className:"alert alert-danger miAlert",role:"alert",children:"Error validation"}))}),1e3),setTimeout((function(){r(Object(h.jsx)("div",{}))}),5e3)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=d.serialNumber,g=d.name,N=d.address;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Add Gateway"}),Object(h.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Serial Number",name:"serialNumber",value:v,required:!0,onChange:function(e){return p(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Name",name:"name",value:g,required:!0,onChange:function(e){return p(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Ipv4 Address",name:"address",value:N,required:!0,onChange:function(e){return p(e)}})}),Object(h.jsx)("button",{className:"btn btn-primary btn-block",children:"Add gateway"})]})]}),n]})},I=function(){var e=Object(u.f)(),t=Object(c.useState)(Object(h.jsx)("div",{})),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(u.g)().id,o=Object(c.useState)({serialNumber:"",name:"",address:""}),b=Object(j.a)(o,2),p=b[0],f=b[1];Object(c.useEffect)((function(){v()}),[]);var v=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("http://localhost:5000/","v1/api/gateway/").concat(s));case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){f(Object(x.a)(Object(x.a)({},p),{},Object(O.a)({},e.target.name,e.target.value)))},N=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,m.a.patch("".concat("http://localhost:5000/","v1/api/gateway/").concat(s),{serialNumber:p.serialNumber,name:p.name,address:p.address}).then((function(){e.push("/gateway")})).catch((function(){setTimeout((function(){r(Object(h.jsx)("div",{className:"alert alert-danger miAlert",role:"alert",children:"Error validation"}))}),1e3),setTimeout((function(){r(Object(h.jsx)("div",{}))}),5e3)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=p.serialNumber,y=p.name,k=p.address;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(d.b,{className:"btn btn-primary mt-2 ml-2",to:"/gateway",children:"Back"}),Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Edit Gateway"}),Object(h.jsxs)("form",{onSubmit:function(e){return N(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Serial Number",name:"serialNumber",value:w,onChange:function(e){return g(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Name",name:"name",value:y,onChange:function(e){return g(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Ipv4 Address",name:"address",value:k,onChange:function(e){return g(e)}})}),Object(h.jsx)("button",{className:"btn btn-warning btn-block",children:"Edit Gateway"})]})]}),n]})},A=function(){var e=Object(u.g)().id,t=Object(c.useState)({serialNumber:"",name:"",address:""}),a=Object(j.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var t=Object(i.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,m.a.get("".concat("http://localhost:5000/","v1/api/gateway/").concat(e));case 3:a=t.sent,r(a.data),console.log(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(d.b,{className:"btn btn-primary mt-2 ml-2",to:"/gateway",children:"Back"}),Object(h.jsx)("h1",{className:"display-4",children:"Gateway "}),Object(h.jsx)("hr",{}),Object(h.jsxs)("ul",{className:"list-group w-50",children:[Object(h.jsx)("li",{className:"list-group-item",children:Object(h.jsxs)("small",{children:["Serial Number: ",n.serialNumber]})}),Object(h.jsx)("li",{className:"list-group-item",children:Object(h.jsxs)("strong",{children:["Name: ",n.name]})}),Object(h.jsx)("li",{className:"list-group-item",children:Object(h.jsxs)("strong",{children:["Address: ",n.address]})})]})]})},D=function(){var e=Object(u.g)().GatewayId,t=Object(c.useState)([]),a=Object(j.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var t=Object(i.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,m.a.get("".concat("http://localhost:5000/","v1/api/device"));case 3:a=t.sent,r(a.data.reverse());case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(i.a)(l.a.mark((function t(a,c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.patch("".concat("http://localhost:5000/","v1/api/device/deleteDeviceFromGateway/").concat(e),{deviceId:c});case 2:s();case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"py-4",children:[Object(h.jsx)("h1",{children:"Devices"}),Object(h.jsx)(d.b,{className:"btn btn-outline-light mb-2 bg-primary ",to:"/device/add/".concat(e),children:"Add Device To Gateway"}),Object(h.jsxs)("table",{className:"table border shadow",children:[Object(h.jsx)("thead",{className:"thead-light",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"UID"}),Object(h.jsx)("th",{scope:"col",children:"Vendor"}),Object(h.jsx)("th",{scope:"col",children:"Status"}),Object(h.jsx)("th",{scope:"col",children:"Date"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:n.map((function(t,a){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scoped:"row",children:a+1}),Object(h.jsx)("td",{children:t.uid}),Object(h.jsx)("td",{children:t.vendor}),Object(h.jsx)("td",{children:t.status}),Object(h.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(h.jsx)("td",{children:Object(h.jsx)("span",{className:"d-inline-block",tabIndex:"0","data-bs-toggle":"tooltip",title:"Delete Device",children:Object(h.jsx)(d.b,{to:"#",class:"btn btn-danger",onClick:function(){return o(e,t._id)},children:Object(h.jsx)("i",{className:"fa fa-book"})})})})]})}))})]})]})})},U=function(){var e=Object(u.f)(),t=Object(c.useState)(Object(h.jsx)("div",{})),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(u.g)().GatewayId,o=Object(c.useState)({uid:"",vendor:"",status:""}),b=Object(j.a)(o,2),p=b[0],f=b[1],v=function(e){f(Object(x.a)(Object(x.a)({},p),{},Object(O.a)({},e.target.name,e.target.value)))},g=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,m.a.patch("".concat("http://localhost:5000/","v1/api/device/addDeviceToGateway/").concat(s),p).then((function(){e.push("/gateway/device/".concat(s))})).catch((function(){setTimeout((function(){r(Object(h.jsx)("div",{className:"alert alert-danger miAlert",role:"alert",children:"Error validation"}))}),1e3),setTimeout((function(){r(Object(h.jsx)("div",{}))}),5e3)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=p.uid,w=p.vendor,y=p.status;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(d.b,{className:"btn btn-primary mt-2 ml-2",to:"/gateway",children:"Back"}),Object(h.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Add a Device"}),Object(h.jsxs)("form",{onSubmit:function(e){return g(e)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"number",className:"form-control form-control-lg",placeholder:"UID",name:"uid",required:!0,value:N,onChange:function(e){return v(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Vendor",name:"vendor",value:w,onChange:function(e){return v(e)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)("select",{required:!0,"aria-required":"true",name:"status",className:"form-control form-control-lg","aria-label":"Default select example",value:y,onChange:function(e){return v(e)},children:[Object(h.jsx)("option",{value:"",children:"Select a status"}),Object(h.jsx)("option",{value:"online",children:"Online"}),Object(h.jsx)("option",{value:"offline",children:"Offline"})]})}),Object(h.jsx)("button",{className:"btn btn-primary btn-block",children:"Add Device"})]})]}),n]})},T=function(){return Object(h.jsx)("div",{className:"not-Found",children:Object(h.jsx)("div",{className:"display-1",children:"Page Not Found :("})})};var E=function(){return Object(h.jsx)(d.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(g,{}),Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{exact:!0,path:"/signIn",component:f})," />",Object(h.jsx)(u.a,{exact:!0,path:"/signUp",component:v}),Object(h.jsx)(u.a,{exact:!0,path:"/users",component:p}),Object(h.jsx)(u.a,{exact:!0,path:"/user/show/:id",component:N}),Object(h.jsx)(u.a,{exact:!0,path:"/user/edit/:id",component:w}),Object(h.jsx)(u.a,{exact:!0,path:"/rol/addRolToUser/:username/:rolId",component:y}),Object(h.jsx)(u.a,{exact:!0,path:"/rol/deleteRolToUser/:username/:rolId",component:k}),Object(h.jsx)(u.a,{exact:!0,path:"/gateway",component:S}),Object(h.jsx)(u.a,{exact:!0,path:"/gateway/add",component:C}),Object(h.jsx)(u.a,{exact:!0,path:"/gateway/show/:id",component:A}),Object(h.jsx)(u.a,{exact:!0,path:"/gateway/edit/:id",component:I}),Object(h.jsx)(u.a,{exact:!0,path:"/gateway/device/:GatewayId",component:D}),Object(h.jsx)(u.a,{exact:!0,path:"/device/add/:GatewayId",component:U}),Object(h.jsx)(u.a,{exact:!0,path:"/",component:S}),Object(h.jsx)(u.a,{component:T})]})]})})};m.a.defaults.headers.common["Content-Type"]="application/json",m.a.defaults.headers.common.Authorization=localStorage.getItem("token"),s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.32f88497.chunk.js.map